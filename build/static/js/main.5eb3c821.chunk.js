(this["webpackJsonpcontacts-chat-task"]=this["webpackJsonpcontacts-chat-task"]||[]).push([[0],{101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},109:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(1),s=c.n(a),r=c(50),i=c.n(r),l=(c(96),c(9)),o=(c(97),c(13)),d=c(36),j=c(39),u=c(35);c(101),window.Swal;var b=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"d-flex flex-row pb-3",children:[Object(n.jsxs)("span",{className:"col-md-4 text-lightgray",children:[e.title,":"]}),Object(n.jsx)("span",{className:"col-lg-offset-2 col-md-6",children:e.value})]}),Object(n.jsx)("hr",{})]})},m=Object(j.b)((function(e){return{contacts:e.contactsReducer.contacts}}),(function(e){return{getAllContacts:function(){return e(Object(u.getAllContacts)())},getSingleContact:function(t){return e(Object(u.getSingleContact)(t))},deleteContact:function(t){return e(Object(u.deleteContact)(t))}}}))((function(e){var t=e.getAllContacts,c=e.contacts,s=e.onPopup,r=(e.setContacts,e.editUser),i=e.getSingleContact,l=e.deleteContact,j=Object(a.useState)({}),u=Object(o.a)(j,2),m=u[0],O=u[1],f=Object(a.useState)(!1),x=Object(o.a)(f,2),h=x[0],v=x[1];return Object(a.useEffect)((function(){t(),v(!0),setTimeout((function(){v(!1)}),3e3)}),[]),Object(n.jsxs)("div",{className:"row ml-md-4 ml-lg-4 ml-sm-4 pl-md-0",children:[Object(n.jsx)("div",{className:"text-center",children:h&&Object(n.jsx)("h1",{children:"Loading..."})}),0===c.length&&Object(n.jsx)("p",{className:"text-danger text-center",children:"No Contacts Found!"}),c.length>0&&Object(n.jsxs)("table",{className:"table table-hover col-sm-12 col-md-12 col-lg-6",children:[Object(n.jsx)("thead",{className:"border-0",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Basic Info"}),Object(n.jsx)("th",{scope:"col",children:"Company"}),Object(n.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(n.jsx)("tbody",{children:c.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{className:"d-flex flex-row",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"nameImage text-center text-white rounded-circle p5",children:[e.firstName.substring(0,1)," ",e.lastName.substring(0,1)]})}),Object(n.jsxs)("div",{className:"ml-2",children:[e.firstName," ",e.lastName,Object(n.jsx)("span",{className:"small d-block",children:e.email})]})]}),Object(n.jsx)("td",{children:e.company}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex flex-column flex-md-row",children:[Object(n.jsxs)("div",{className:"d-flex flex-row",children:[Object(n.jsx)("i",{className:"fa fa-eye action",title:"View Contact",onClick:function(){return function(e){var t=Object(d.a)(c).filter((function(t){return t.id===e}))[0];O(t)}(e.id)}}),"\xa0\xa0\xa0",Object(n.jsx)("i",{className:"fa fa-edit action",title:"Edit Contact",onClick:function(){return function(e){var t=Object(d.a)(c).filter((function(t){return t.id===e}))[0];i(e),s(),r(t)}(e.id)}})]}),"\xa0\xa0\xa0",Object(n.jsx)("div",{className:"d-flex flex-row",children:Object(n.jsx)("i",{className:"fa fa-trash action",title:"Delete Contact",onClick:function(){return t=e.id,void l(t);var t}})})]})})]},e.id)}))})]}),Object.keys(m).length>0&&Object(n.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 pr-0 pl-2",children:Object(n.jsxs)("div",{className:"ml-lg-5 col-md-12 bg-lightgray",children:[Object(n.jsxs)("div",{className:"d-flex flex-column align-items-center pt-4 pb-5",children:[Object(n.jsxs)("div",{className:"nameImage nameImageBig text-center text-white rounded-circle p5",children:[m.firstName.substring(0,1)," ",m.lastName.substring(0,1)]}),Object(n.jsxs)("h3",{children:[m.firstName," ",m.lastName]}),Object(n.jsx)("span",{children:m.company})]}),Object(n.jsx)(b,{title:"Full Name",value:m.firstName+" "+m.lastName}),Object(n.jsx)(b,{title:"Email",value:m.email}),Object(n.jsx)(b,{title:"Phone",value:m.phoneNumber}),Object(n.jsx)(b,{title:"Company",value:m.company}),Object(n.jsx)(b,{title:"Address",value:m.address})]})})]})})),O=(c(102),c(12)),f=function(e){var t=e.size,c=e.label,a=e.index,s=e.type,r=e.value,i=e.pattern,l=e.max,o=e.setValue;return Object(n.jsxs)("div",{className:"col-md-"+t+" mb-3",children:[Object(n.jsx)("label",{htmlFor:"validationCustom0"+a,children:c}),"textarea"!==s&&Object(n.jsx)("input",{type:s,className:"form-control",id:"validationCustom0"+a,placeholder:"Enter "+c,value:r,onChange:function(e){return o(e.target.value)},pattern:i,maxLength:l,required:!0}),"textarea"===s&&Object(n.jsx)("textarea",{className:"form-control",id:"validationCustom0"+a,placeholder:"Enter "+c,value:r,onChange:function(e){return o(e.target.value)},pattern:i,maxLength:l,required:!0}),Object(n.jsxs)("div",{className:"invalid-feedback",children:["Please Enter Valid ",c]})]})};var x=Object(j.b)((function(e){return{contacts:e.contactsReducer.contacts,contact:e.contactsReducer.contact,isEdit:e.contactsReducer.isEdit}}),(function(e){return{addContact:function(t){return e(Object(u.addContact)(t))},editContact:function(t,c){return e(Object(u.editContact)(t,c))}}}))((function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=(v(),Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",company:"",address:""})),l=Object(o.a)(i,2),d=l[0],j=l[1],u=function(e,t){var c=Object(O.a)({},d);c[e]=t,j((function(e){return Object(O.a)(Object(O.a)({},e),c)}))},b=Object(a.useRef)();return Object(a.useEffect)((function(){e.contact&&Object.keys(e.contact).length>0&&j(e.contact)}),[e.editUser]),Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add/Edit Contact"}),Object(n.jsx)("button",{type:"button",ref:b,className:"close",id:"closemodal","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsxs)("form",{className:s?"needs-validation was-validated":"needs-validation",onSubmit:function(t){return d.id?function(t){t.preventDefault(),console.log(d),e.editContact(d,d.id),j({firstName:"",lastName:"",email:"",phoneNumber:"",company:"",address:""}),r(!1),b.current.click()}(t):function(t){t.preventDefault(),e.addContact(d),j({firstName:"",lastName:"",email:"",phoneNumber:"",company:"",address:""}),r(!1),b.current.click()}(t)},children:[Object(n.jsxs)("div",{className:"form-row",children:[Object(n.jsx)(f,{type:"text",label:"First Name",size:6,index:"1",pattern:"^[a-zA-Z]*",max:"20",value:d.firstName,setValue:function(e){return u("firstName",e)}}),Object(n.jsx)(f,{type:"text",label:"Last Name",size:6,index:"2",pattern:"^[a-zA-Z]*",max:"20",value:d.lastName,setValue:function(e){return u("lastName",e)}}),Object(n.jsx)(f,{type:"email",label:"Email",size:6,index:"3",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$",max:"50",value:d.email,setValue:function(e){return u("email",e)}}),Object(n.jsx)(f,{type:"text",label:"Phone Number",size:6,index:"4",pattern:"^[0-9]{10}$",max:"10",value:d.phoneNumber,setValue:function(e){return u("phoneNumber",e)}}),Object(n.jsx)(f,{type:"text",label:"Company Name",size:12,index:"5",pattern:"^[a-zA-Z]{1}[a-zA-Z., ]*",max:"30",value:d.company,setValue:function(e){return u("company",e)}}),Object(n.jsx)(f,{type:"textarea",label:"Address",size:12,index:"6",pattern:"^[a-zA-Z]{1}[a-zA-Z., ]*",max:"50",value:d.address,setValue:function(e){return u("address",e)}})]}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){return r(!0)},type:"submit",children:"Submit"})})]})})]})})})),h=Object(a.createContext)(),v=function(){return Object(a.useContext)(h)};function p(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),l=i[0],d=i[1],j=Object(a.useState)(1),u=Object(o.a)(j,2),b=u[0],O=u[1],f=Object(a.useRef)();return Object(n.jsx)("div",{className:"container pl-lg-3 pl-xs-0 ml-lg-4 ml-xs-1",children:Object(n.jsxs)(h.Provider,{value:{contacts:l,setContacts:d},children:[Object(n.jsxs)("div",{className:"d-flex flex-row mt-3 justify-content-start align-items-center",children:[Object(n.jsx)("i",{className:"fa fa-address-book-o idcard text-white"}),Object(n.jsx)("h1",{className:"d-flex flex-column pl-3",children:"Contacts Application"}),Object(n.jsx)("p",{children:b})]}),Object(n.jsxs)("div",{className:"row ml-md-4 mt-4 mb-4 pl-1 pr-1",children:[Object(n.jsx)("input",{type:"text",placeholder:"Search contacts",defaultValue:"",className:"col-sm-6 col-md-6 col-lg-3 search-contacts border"}),"\xa0\xa0\xa0",Object(n.jsx)("button",{className:"col-sm-4 col-md-4 col-lg-2 add-contact border-0 text-white","data-toggle":"modal","data-target":"#exampleModalCenter",ref:f,onClick:function(){return O(b+1)},children:"+ Add Contact"})]}),Object(n.jsx)("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(n.jsx)(x,{addData:function(e){return s(e)},editUser:c,setContacts:function(e){return d(e)}})}),Object(n.jsx)(m,{newUser:c,editUser:function(e){return s(e)},onPopup:function(){return f.current.click()},setContacts:function(e){return d(e)}})]})})}var N=Object(a.forwardRef)((function(e,t){return Object(a.useImperativeHandle)(t,(function(){return{logoutUser:function(){console.log("User Loggedout successfully")}}})),Object(n.jsx)("div",{children:Object(n.jsx)("button",Object(O.a)(Object(O.a)({},e),{},{children:"Logout"}))})}));function g(){var e=Object(a.useState)(10),t=Object(o.a)(e,2),c=t[0],s=(t[1],Object(a.useState)(10)),r=Object(o.a)(s,2),i=r[0],l=(r[1],Object(a.useState)("")),d=Object(o.a)(l,2),j=(d[0],d[1],Object(a.useState)(!1)),u=Object(o.a)(j,2),b=u[0],m=(u[1],Object(a.useState)(!1)),O=Object(o.a)(m,2),f=O[0],x=O[1],h=Object(a.useState)(0),v=Object(o.a)(h,2),p=(v[0],v[1],Object(a.useMemo)((function(){return function(e,t){for(var c=0;c<1e9;c++);return parseInt(e)+parseInt(t)}(c,i)}),[c,i]),Object(a.useCallback)((function(e){return parseInt(c)+parseInt(e)}),[c]),Object(a.useMemo)((function(){return{backgroundColor:b?"black":"white",color:b?"white":"black",padding:20}}),[b]));Object(a.useEffect)((function(){setTimeout((function(){x(!1)}),3e3)}),[p]);var g=Object(a.useRef)();return Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){}),[]),Object(a.useLayoutEffect)((function(){x(!0)}),[]),Object(n.jsx)("div",{style:p,children:f?Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Loading..."})}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Dashboard"}),Object(n.jsx)(N,{onClick:function(){g.current.logoutUser()},ref:g})]})})}var C=c(40);c(103);function w(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"d-flex flex-row",children:[Object(n.jsx)("nav",{className:"sidebar d-none d-sm-none d-md-block",children:Object(n.jsx)("div",{className:"sticky-top h100",children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item mt-3",children:Object(n.jsx)("div",{className:"nav-link",children:Object(n.jsx)("i",{className:"fa fa-bars text-white"})})}),Object(n.jsx)("br",{}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(C.b,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:Object(n.jsx)("i",{className:"fa fa-home"})})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(C.b,{className:"nav-link",activeClassName:"active",exact:!0,to:"/contacts",children:Object(n.jsx)("i",{className:"fa fa-user"})})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(C.b,{className:"nav-link",activeClassName:"active",exact:!0,to:"/settings",children:Object(n.jsx)("i",{className:"fa fa-gear"})})})]})})}),e.children]})})}var y=c(81),E=c(110),S=c(34);function k(){var e=Object(y.a)(['{\nperson(id:"1"){\n    name\n  }\n}']);return k=function(){return e},e}var A=Object(S.a)(k());function T(){var e=Object(E.useQuery)(A),t=e.data&&e.data.person;return console.log(t),e.error?Object(n.jsxs)("div",{children:["Error in GraphQL query : ",Object(n.jsx)("pre",{children:JSON.stringify(e.error,null,2)})]}):t?Object(n.jsxs)("div",{children:["Data: ",t.name,Object(n.jsx)("ul",{})]}):Object(n.jsx)("div",{children:"loading..."})}var _=c(62);var L=function(){var e=new _.a({uri:"http://localhost:4000/graphql",cache:new E.InMemoryCache});return Object(n.jsx)("div",{children:Object(n.jsx)(w,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/contacts",component:p}),Object(n.jsx)(E.ApolloProvider,{client:e,children:Object(n.jsx)(l.a,{path:"/users",component:T})}),Object(n.jsx)(l.a,{path:"/settings",children:Object(n.jsx)("h1",{className:"ml-5 mt-3",children:"Settings"})}),Object(n.jsx)(l.a,{path:"/",exact:!0,component:g}),Object(n.jsx)(l.a,{path:"*",children:Object(n.jsx)("div",{className:"ml-5 mt-3",children:Object(n.jsx)("h1",{children:"404 Not Found!"})})})]})})})},I=c(47),D=c(88),z=c.n(D),R=c(89),U=c(35).initialStateContacts,V=Object(I.b)({contactsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CONTACTS":return Object(O.a)({},e);case"ADD_CONTACT":var c=Object(d.a)(e.contacts),n=c.length>0&&c[c.length-1].id?parseInt(c[c.length-1].id)+1:1,a=t.contact;return a.id=n,c.push(a),Object(O.a)(Object(O.a)({},e),{},{contacts:c});case"GET_SINGLE_CONTACT":var s=Object(d.a)(e.contacts);return Object(O.a)(Object(O.a)({},e),{},{contact:s.filter((function(e){return e.id===t.id}))[0],isEdit:!0});case"EDIT_CONTACT":var r=Object(d.a)(e.contacts),i=r.findIndex((function(e){return e.id===t.id}));return r[i]=t.contact,Object(O.a)(Object(O.a)({},e),{},{contacts:r});case"DELETE_CONTACT":var l=Object(d.a)(e.contacts),o=l.findIndex((function(e){return e.id===t.id}));return l.splice(o,1),Object(O.a)(Object(O.a)({},e),{},{contacts:l});default:return e}}}),P=Object(I.d)(V,Object(I.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(I.a)(z.a,R.a))),G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(j.a,{store:P,children:Object(n.jsx)(C.a,{children:Object(n.jsx)(L,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");G?(!function(e,t){fetch(e).then((function(c){var n=c.headers.get("content-type");404===c.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):M(t,e)}))}}()},35:function(e,t,c){"use strict";c.r(t),c.d(t,"initialStateContacts",(function(){return n})),c.d(t,"getAllContacts",(function(){return a})),c.d(t,"addContact",(function(){return s})),c.d(t,"editContact",(function(){return r})),c.d(t,"deleteContact",(function(){return i})),c.d(t,"getSingleContact",(function(){return l}));var n={contacts:[{id:1,firstName:"Leanne Graham",lastName:"Bret",email:"Sincere@april.biz",address:"Sample",phoneNumber:"1231231231",company:"Romaguera-Crona"},{id:2,firstName:"Leanne Sample",lastName:"Sample",email:"v@gmail.com",address:"Sample",phoneNumber:"1231231231",company:"Romaguera-Crona"}]},a=function(){return{type:"GET_ALL_CONTACTS"}},s=function(e){return{type:"ADD_CONTACT",contact:e}},r=function(e,t){return{type:"EDIT_CONTACT",contact:e,id:t}},i=function(e){return{type:"DELETE_CONTACT",id:e}},l=function(e){return{type:"GET_SINGLE_CONTACT",id:e}}},96:function(e,t,c){},97:function(e,t,c){}},[[109,1,2]]]);
//# sourceMappingURL=main.5eb3c821.chunk.js.map